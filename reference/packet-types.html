<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Packet Types | DHAP</title>
    <meta name="description" content="Decentralised Home Automation Protocol Documentation">
    
    
    <link rel="preload" href="/DHAP-Documentation/assets/css/0.styles.5604310b.css" as="style"><link rel="preload" href="/DHAP-Documentation/assets/js/app.ee0d968a.js" as="script"><link rel="preload" href="/DHAP-Documentation/assets/js/2.c97535ac.js" as="script"><link rel="preload" href="/DHAP-Documentation/assets/js/15.e3f71b71.js" as="script"><link rel="prefetch" href="/DHAP-Documentation/assets/js/10.b1db677c.js"><link rel="prefetch" href="/DHAP-Documentation/assets/js/11.3c9e5aad.js"><link rel="prefetch" href="/DHAP-Documentation/assets/js/12.834af0f2.js"><link rel="prefetch" href="/DHAP-Documentation/assets/js/13.54851ada.js"><link rel="prefetch" href="/DHAP-Documentation/assets/js/14.645edb52.js"><link rel="prefetch" href="/DHAP-Documentation/assets/js/16.996da96d.js"><link rel="prefetch" href="/DHAP-Documentation/assets/js/17.6d0813f1.js"><link rel="prefetch" href="/DHAP-Documentation/assets/js/3.a35a8884.js"><link rel="prefetch" href="/DHAP-Documentation/assets/js/4.3d1a62e5.js"><link rel="prefetch" href="/DHAP-Documentation/assets/js/5.5d5e6d2b.js"><link rel="prefetch" href="/DHAP-Documentation/assets/js/6.5d05364a.js"><link rel="prefetch" href="/DHAP-Documentation/assets/js/7.fb09b9af.js"><link rel="prefetch" href="/DHAP-Documentation/assets/js/8.2fb19c78.js"><link rel="prefetch" href="/DHAP-Documentation/assets/js/9.cf65704a.js">
    <link rel="stylesheet" href="/DHAP-Documentation/assets/css/0.styles.5604310b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/DHAP-Documentation/" class="home-link router-link-active"><!----> <span class="site-name">DHAP</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Home</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/DHAP-Documentation/" class="sidebar-link">Introduction</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Guide</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/DHAP-Documentation/guide/" class="sidebar-link">Quick Library Installation</a></li><li><a href="/DHAP-Documentation/guide/android.html" class="sidebar-link">Android Library</a></li><li><a href="/DHAP-Documentation/guide/ios.html" class="sidebar-link">iOS Library</a></li><li><a href="/DHAP-Documentation/guide/desktop.html" class="sidebar-link">Desktop Application</a></li><li><a href="/DHAP-Documentation/guide/esp8266.html" class="sidebar-link">ESP8266 Device</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>API</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/DHAP-Documentation/api/" class="sidebar-link">Android API</a></li><li><a href="/DHAP-Documentation/api/ios.html" class="sidebar-link">iOS API</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Reference</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/DHAP-Documentation/reference/packet-types.html" class="active sidebar-link">Packet Types</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/DHAP-Documentation/reference/packet-types.html#joining" class="sidebar-link">Joining</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/DHAP-Documentation/reference/packet-types.html#send-credentials" class="sidebar-link">Send Credentials</a></li><li class="sidebar-sub-header"><a href="/DHAP-Documentation/reference/packet-types.html#acknowledge-credentials" class="sidebar-link">Acknowledge Credentials</a></li><li class="sidebar-sub-header"><a href="/DHAP-Documentation/reference/packet-types.html#joined-network-successfully" class="sidebar-link">Joined Network Successfully</a></li><li class="sidebar-sub-header"><a href="/DHAP-Documentation/reference/packet-types.html#failed-to-join-network" class="sidebar-link">Failed to Join Network</a></li></ul></li><li class="sidebar-sub-header"><a href="/DHAP-Documentation/reference/packet-types.html#discovery" class="sidebar-link">Discovery</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/DHAP-Documentation/reference/packet-types.html#discovery-request" class="sidebar-link">Discovery Request</a></li><li class="sidebar-sub-header"><a href="/DHAP-Documentation/reference/packet-types.html#discovery-response" class="sidebar-link">Discovery Response</a></li><li class="sidebar-sub-header"><a href="/DHAP-Documentation/reference/packet-types.html#discovery-header-request" class="sidebar-link">Discovery Header Request</a></li><li class="sidebar-sub-header"><a href="/DHAP-Documentation/reference/packet-types.html#discovery-header-response" class="sidebar-link">Discovery Header Response</a></li></ul></li><li class="sidebar-sub-header"><a href="/DHAP-Documentation/reference/packet-types.html#user-interface" class="sidebar-link">User Interface</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/DHAP-Documentation/reference/packet-types.html#ui-request" class="sidebar-link">UI Request</a></li><li class="sidebar-sub-header"><a href="/DHAP-Documentation/reference/packet-types.html#ui-response" class="sidebar-link">UI Response</a></li></ul></li><li class="sidebar-sub-header"><a href="/DHAP-Documentation/reference/packet-types.html#command" class="sidebar-link">Command</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/DHAP-Documentation/reference/packet-types.html#command-request" class="sidebar-link">Command Request</a></li></ul></li><li class="sidebar-sub-header"><a href="/DHAP-Documentation/reference/packet-types.html#status" class="sidebar-link">Status</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/DHAP-Documentation/reference/packet-types.html#lease-request" class="sidebar-link">Lease Request</a></li><li class="sidebar-sub-header"><a href="/DHAP-Documentation/reference/packet-types.html#lease-response" class="sidebar-link">Lease Response</a></li><li class="sidebar-sub-header"><a href="/DHAP-Documentation/reference/packet-types.html#leave-lease" class="sidebar-link">Leave Lease</a></li><li class="sidebar-sub-header"><a href="/DHAP-Documentation/reference/packet-types.html#status-update" class="sidebar-link">Status Update</a></li></ul></li><li class="sidebar-sub-header"><a href="/DHAP-Documentation/reference/packet-types.html#device-header" class="sidebar-link">Device Header</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/DHAP-Documentation/reference/packet-types.html#change-device-name" class="sidebar-link">Change Device Name</a></li><li class="sidebar-sub-header"><a href="/DHAP-Documentation/reference/packet-types.html#change-device-location" class="sidebar-link">Change Device Location</a></li></ul></li></ul></li><li><a href="/DHAP-Documentation/reference/elements.html" class="sidebar-link">Elements</a></li><li><a href="/DHAP-Documentation/reference/xml-schema.html" class="sidebar-link">XML Schema</a></li><li><a href="/DHAP-Documentation/reference/device-examples.html" class="sidebar-link">Device Examples</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="packet-types"><a href="#packet-types" aria-hidden="true" class="header-anchor">#</a> Packet Types</h1> <p>Each UDP packet is prefaced with a 3 digit code to determine its purpose.</p> <h2 id="joining"><a href="#joining" aria-hidden="true" class="header-anchor">#</a> Joining</h2> <h3 id="send-credentials"><a href="#send-credentials" aria-hidden="true" class="header-anchor">#</a> Send Credentials</h3> <div class="tip custom-block"><p>This is a BROADCAST packet</p></div> <div class="danger custom-block"><p>This packet must be sent on a secure network</p></div> <p>Sent from <code>ICD</code></p> <p>ICD sends home network credentials to device so that it can join the network.</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>100|ssid,password
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><strong>ssid</strong>: the network router ssid</li> <li><strong>password</strong>: the network router password</li></ul> <p>Example: <code>100|Telstra7000,83627465</code></p> <h3 id="acknowledge-credentials"><a href="#acknowledge-credentials" aria-hidden="true" class="header-anchor">#</a> Acknowledge Credentials</h3> <p>Sent from <code>Device</code></p> <p>Device acknowledges that it has received the network credentials.</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>110
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Example: <code>110</code></p> <h3 id="joined-network-successfully"><a href="#joined-network-successfully" aria-hidden="true" class="header-anchor">#</a> Joined Network Successfully</h3> <p>Sent from <code>Device</code></p> <p>Device informs the ICD that it has successfully joined the network.</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>120
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Example: <code>120</code></p> <h3 id="failed-to-join-network"><a href="#failed-to-join-network" aria-hidden="true" class="header-anchor">#</a> Failed to Join Network</h3> <p>Sent from <code>Device</code></p> <p>Device informs the ICD that it has failed connecting to the network.</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>130
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Example: <code>130</code></p> <h2 id="discovery"><a href="#discovery" aria-hidden="true" class="header-anchor">#</a> Discovery</h2> <h3 id="discovery-request"><a href="#discovery-request" aria-hidden="true" class="header-anchor">#</a> Discovery Request</h3> <div class="tip custom-block"><p>This is a BROADCAST packet</p></div> <p>Sent from <code>ICD</code></p> <p>ICD requests that the device checks if it is on the census list.</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>300|[device-device-device...]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><strong>device</strong>: the string representation of a currently discovered device</li></ul> <p>Where each <strong>device</strong> string contains:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mac,statusbit,visibilitybit,headerVersion
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><strong>mac</strong>: device MAC address.</li> <li><strong>statusbit</strong>: whether the device is currently active or not. 1 or 0.</li> <li><strong>visibilitybit</strong>: Specifies the visibility permission level.</li> <li><strong>headerVersion</strong>: The current version of the device header.</li></ul> <p>Example: <code>300|</code> (no currently discovered devices)</p> <p>Example: <code>300|B4:E6:2D:67:B5:3D,1,1,5</code></p> <p>Example: <code>300|B4:E6:2D:67:B5:3D,1,1,5-D5:0A:95:9D:68:16,1,1,9</code></p> <h3 id="discovery-response"><a href="#discovery-response" aria-hidden="true" class="header-anchor">#</a> Discovery Response</h3> <p>Sent from <code>Device</code></p> <p>Device will respond with its information if it is not on the received census list.</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>310|mac,statusbit,visibilitybit,headerVersion
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><strong>mac</strong>: device MAC address.</li> <li><strong>statusbit</strong>: whether the device is currently active or not.  1 or 0.</li> <li><strong>visibilitybit</strong>: Specifies the visibility permission level.</li> <li><strong>headerVersion</strong>: The current version of the device header.</li></ul> <p>Example: <code>310|B4:E6:2D:67:B5:3D,1,1,5</code></p> <h3 id="discovery-header-request"><a href="#discovery-header-request" aria-hidden="true" class="header-anchor">#</a> Discovery Header Request</h3> <p>Sent from <code>ICD</code></p> <p>ICD requests the device to send its xml header information.</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>320
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Example: <code>320</code></p> <h3 id="discovery-header-response"><a href="#discovery-header-response" aria-hidden="true" class="header-anchor">#</a> Discovery Header Response</h3> <p>Sent from <code>Device</code></p> <p>Device responds to a discovery header request with the devices xml header.</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>330|mac,version,name,location
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><strong>mac</strong>: device MAC address</li> <li><strong>version</strong>: the rolling version number of this header</li> <li><strong>name</strong>: the name given to the device</li> <li><strong>location</strong>: the location given to the device</li></ul> <p>Example: <code>310|B4:E6:2D:67:B5:3D,TV,Living Room</code></p> <h2 id="user-interface"><a href="#user-interface" aria-hidden="true" class="header-anchor">#</a> User Interface</h2> <h3 id="ui-request"><a href="#ui-request" aria-hidden="true" class="header-anchor">#</a> UI Request</h3> <p>Sent from <code>ICD</code></p> <p>ICD requests the device to send its full xml description.</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>200
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Example: <code>200</code></p> <h3 id="ui-response"><a href="#ui-response" aria-hidden="true" class="header-anchor">#</a> UI Response</h3> <p>Sent from <code>Device</code></p> <p>Device responds to a ui request with its xml string.</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>210|xml
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><strong>xml</strong>: the devices xml string</li></ul> <p>Example: <code>210|&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;device&gt;&lt;name&gt; ...</code></p> <h2 id="command"><a href="#command" aria-hidden="true" class="header-anchor">#</a> Command</h2> <h3 id="command-request"><a href="#command-request" aria-hidden="true" class="header-anchor">#</a> Command Request</h3> <p>Sent from <code>ICD</code></p> <p>ICD sends a command to request the device to update its state.</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>400|command
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><strong>command</strong>:</li></ul> <p>The command value should be in the following format <code>groupID-elementID=elementStatus</code>.</p> <p><code>groupID</code> is the value of the <code>group</code> ID which the element is a part of.</p> <p><code>elementID</code> is the value of the <code>gui_element</code> ID.</p> <p><code>elementStatus</code> is the string which represents that specific elements status. To see the syntax of the status of a particular element, see that elements section of the <a href="/DHAP-Documentation/reference/elements.html">elements documentation</a>.</p> <p>the <code>-</code> and <code>=</code> characters are used as delimiters.</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>group</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">permisison</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>WR<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>gui_element</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">&gt;</span></span>stepper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>disp_settings</span><span class="token punctuation">&gt;</span></span>Number,0,10<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>disp_settings</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>status_location</span><span class="token punctuation">&gt;</span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>status_location</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>comment</span><span class="token punctuation">&gt;</span></span>Number Counter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>comment</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>gui_element</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>gui_element</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">&gt;</span></span>buttontoggle<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>disp_settings</span><span class="token punctuation">&gt;</span></span>Open/Close,Open,Close<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>disp_settings</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>status_location</span><span class="token punctuation">&gt;</span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>status_location</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>comment</span><span class="token punctuation">&gt;</span></span>Light Switch<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>comment</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>gui_element</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>group</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>If the <code>buttontoggle</code> element was currently in the <code>True</code> state and the button was pressed. Its command would be: <code>400|2-2=False</code>.</p> <p>If the <code>stepper</code> element currently had a value of <code>5</code> and it was incremented, its command would be <code>400|2-1=6</code>.</p> <h2 id="status"><a href="#status" aria-hidden="true" class="header-anchor">#</a> Status</h2> <h3 id="lease-request"><a href="#lease-request" aria-hidden="true" class="header-anchor">#</a> Lease Request</h3> <p>Sent from <code>ICD</code></p> <p>ICD requests a status lease from the device.</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>500|duration,interval,response
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><strong>duration</strong>: requested lease duration in miliseconds</li> <li><strong>interval</strong>: requested update interval in miliseconds</li> <li><strong>response</strong>: whether the device should respond with the lease information</li></ul> <p>Example: <code>500|10000,2000,T</code></p> <h3 id="lease-response"><a href="#lease-response" aria-hidden="true" class="header-anchor">#</a> Lease Response</h3> <p>Sent from <code>Device</code></p> <p>Device responds to a lease request if the ICD requested lease information.</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>510|mac,duration,interval
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><strong>mac</strong>: device MAC address</li> <li><strong>duration</strong>: the actual lease duration (may not be the same as the requested duration)</li> <li><strong>interval</strong>: the actual update interval (may not be the same as the requested duration)</li></ul> <p>Example: <code>510|B4:E6:2D:67:B5:3D,50000,1000</code></p> <h3 id="leave-lease"><a href="#leave-lease" aria-hidden="true" class="header-anchor">#</a> Leave Lease</h3> <p>Sent from <code>ICD</code></p> <p>ICD informs the device that it is no longer interested in receiving status updates.</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>520
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Example: <code>520</code></p> <h3 id="status-update"><a href="#status-update" aria-hidden="true" class="header-anchor">#</a> Status Update</h3> <div class="tip custom-block"><p>This is a BROADCAST packet</p></div> <p>Sent from <code>Device</code></p> <p>Device broadcasts its current state to all devices.</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>530|mac,lastUpdate,status[,status,status...]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><strong>mac</strong>: devices MAC address</li> <li><strong>lastUpdate</strong>: whether this is the final status update in the current lease. This value is either <code>T</code> or <code>F</code> where <code>T</code> indicates it is the final packet.</li> <li><strong>status</strong>: contains state for one element</li></ul> <p>Each element must be updated in a status update. The index of the <code>status</code> value in the list, will corrospond to the value found in the <code>status_location</code> tag in an elements xml. This index starts at the value 1. Therefore, the first <code>status</code> value in the list will be assigned to the element that contains the xml <code>&lt;status_location&gt;1&lt;/status_location&gt;</code></p> <p>For the following xml:</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>group</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">permisison</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>WR<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>gui_element</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">&gt;</span></span>progress<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>disp_settings</span><span class="token punctuation">&gt;</span></span>Loading...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>disp_settings</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>status_location</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>status_location</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>comment</span><span class="token punctuation">&gt;</span></span>Loading progression<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>comment</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>gui_element</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>group</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>group</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">permisison</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>WR<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>gui_element</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">&gt;</span></span>stepper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>disp_settings</span><span class="token punctuation">&gt;</span></span>Number,0,10<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>disp_settings</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>status_location</span><span class="token punctuation">&gt;</span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>status_location</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>comment</span><span class="token punctuation">&gt;</span></span>Number Counter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>comment</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>gui_element</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>gui_element</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">&gt;</span></span>buttontoggle<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>disp_settings</span><span class="token punctuation">&gt;</span></span>Open/Close,Open,Close<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>disp_settings</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>status_location</span><span class="token punctuation">&gt;</span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>status_location</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>comment</span><span class="token punctuation">&gt;</span></span>Light Switch<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>comment</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>gui_element</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>group</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>An example status update packet for this device layout could look like the following:</p> <p><code>530|B4:E6:2D:67:B5:3D,F,13,True,4</code></p> <p>In this update packet, the progress bar is at <code>13%</code>, the stepper has a value of <code>4</code> and the buttontoggle is in a <code>True</code> state. Note, the elements do not need to be listed in order of status update index in the xml.</p> <h2 id="device-header"><a href="#device-header" aria-hidden="true" class="header-anchor">#</a> Device Header</h2> <h3 id="change-device-name"><a href="#change-device-name" aria-hidden="true" class="header-anchor">#</a> Change Device Name</h3> <p>Sent from <code>ICD</code></p> <p>ICD informs the device that it should change the name value in its header.</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>600|name
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><strong>name</strong>: new name for the device</li></ul> <p>This will cause the IoT Device to increment its rolling header version.</p> <p>Example: <code>600|TV</code></p> <h3 id="change-device-location"><a href="#change-device-location" aria-hidden="true" class="header-anchor">#</a> Change Device Location</h3> <p>Sent from <code>ICD</code></p> <p>ICD informs the device that it should change the location value in its header.</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>610|location
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><strong>location</strong>: new location for the device</li></ul> <p>This will cause the IoT Device to increment its rolling header version.</p> <p>Example: <code>610|Bedroom</code></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/DHAP-Documentation/api/ios.html" class="prev">
          iOS API
        </a></span> <span class="next"><a href="/DHAP-Documentation/reference/elements.html">
          Elements
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/DHAP-Documentation/assets/js/app.ee0d968a.js" defer></script><script src="/DHAP-Documentation/assets/js/2.c97535ac.js" defer></script><script src="/DHAP-Documentation/assets/js/15.e3f71b71.js" defer></script>
  </body>
</html>
